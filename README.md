### Инструкция по сборке и запуску приложения

Установка и запуск
```
git clone https://github.com/angl1chanin/wb-intership-invulnhub.git
cd wb-intership-invulnhub
go mod tidy
go build ./cmd/app
./app
```
##### Приложение запущено, переходим по <code>localhost:3333</code>


#### Нас встречает главная страница

<img width="1155" alt="Screenshot 2023-12-04 at 13 19 04" src="https://github.com/angl1chanin/wb-intership-vulnhub/assets/68481069/7b72649f-66a0-4c35-b987-5cddcffcb425">

...

### Комментарии к исправлениям

> 1. ### XSS
> - Один из известных способов предотвращения XSS, преобразование спецсимволов в так называемые "мнемоники" или в простонародии HTML сущности. Если браузер встречает такие мнемоники, то отрисовывает их как соответствующее изображение(символ), но если открыть страницу через page source, то на месте преобразований, будут находиться те самые сущности, которые браузер просто читает как текст, и не воспринимает за часть html страницы. Здесь это отличный способ предотвратить Reflected XSS таким способом.
> - [Коммит с исправлением](https://github.com/angl1chanin/wb-intership-invulnhub/commit/b57d274475f47903a5b774613e242a04b2125d0a)
> 2. ### SQLi
> - Исходя из реализации, которую я написал, предотвращение SQL инъекции можно предотвратить на этапе получения get параметра id (форма со страницы с инъекцией отправляет get запрос). По своей сути, id - целочисленное число, почему бы и не требовать от пользователя целочисленное число, в противном случае уведомлять его, что либо он отправил не число, либо нецелочисленное число. Поэтому здесь я решил воспользоваться встроенной функцией ParseInt(), которая в случае отсутствия числа в строке, возвращает ошибку. Таким образом, проверку проходят только запросы, где параметр id содержит только число. Это можно назвать санитизацией. Так как если строка состоит из корректного числа, то функция безопасно возвращает ее представление в целочисленном виде. Но в тоже время, если там содержатся не только цифры, то никаких преобразований она не производит. В общем-то, любые входные данные в какие-либо запросы к БД должны санитизироваться и валидироваться.
> - [Коммит с исправлением](https://github.com/angl1chanin/wb-intership-invulnhub/commit/6c9ece9d8cb2558b335590b010a16df0b11f226d)
> 3. ### IDOR
> - Представление данной уязвимости реализовано максимально просто. Я решил изменить сущность (модель) к которой предоставляется доступ. Я добавил поля User (username) и Password. Единственная нерациональность, это то, что у меня каждая сущность заметки (Note) содержит эти самые поля, хотя можно было бы вынести это в отдельную сущность User, но имеем, что имеем). Механизм достаточно простой, потенциальному владельцу заметок предоставляется возможность отправить свои креды (user и password в GET запросе, да, это тоже небезопасно, но было сделано лишь для удобства воспроизведения прямо из браузера) чтобы получить доступ к исключительно <strong>своим</strong> заметкам. Проверка user и password осуществляется через middleware, соответственно, при неверных входных данных, дальнейшая работа хэндлера не производится. При попытке получения записи по конкретному id, все также требуются креды автора заметки. Получение доступа к не своей заметке теперь устранено.
> - [Коммит с исправлением](https://github.com/angl1chanin/wb-intership-invulnhub/commit/e7df0324b2cd4d9c220bc9e2e7de67a649105a1c)
> 4. ### OS Command Injection
> - Исправление было реализовано за счет корректного использования функции Command() пакета exec. Теперь не включаеются аргументы команды в командную строку, вместо этого используем параметризацию. Также команда ping запускается напрямую, по своему названию, а не используется как параметр команды sh (как в реализации уязвимости).
> - [Коммит с исправлением](https://github.com/angl1chanin/wb-intership-invulnhub/commit/33331b4a5e160679d4b0219aec15fae024c7e780) - в этом коммите исправление для Path Traversal и Command Injection. Исправление для Command Injection отмечено комментарием
> 5. ### Path Traversal
> - Здесь я прибегнул к встроенным возможностям пакета net/http. Убрал способ чтения файла по адресу, передаваемый GET параметром file, и добавил файловый сервер для статических файлов. Собственно и все, это не позволяет нам переходить по иным путям, так как веб-серверу нечем на них отвечать )
> - [Коммит с исправлением](https://github.com/angl1chanin/wb-intership-invulnhub/commit/33331b4a5e160679d4b0219aec15fae024c7e780)
> 6. ### Brute Force
> - Изначально я хотел сделать защиту путем блокирования ip адреса на некоторое время, но тут возникает проблема, что если позволяют ресурсы, то можно набрать проксей, и спокойно себе перебирать. Поэтому было решено добавить капчу.
> - <img width="1379" alt="Screenshot 2023-12-05 at 01 14 52" src="https://github.com/angl1chanin/wb-intership-invulnhub/assets/68481069/414e568a-edc2-4cc4-a610-529a3d44381f">
> - [Коммит с исправлением](https://github.com/angl1chanin/wb-intership-invulnhub/commit/d5f362bb68978bf17a0cfee1a4871943c7fb3f04)
### Дополнительные комментарии
> Опциональный раздел

...